C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.l
                    -st) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "Timer0.h"
   4           
   5          //ËúÇÈ∏£Âô®Á´ØÂè£ÂÆö‰πâ
   6          sbit Buzzer=P2^5;
   7           
   8          //Êí≠ÊîæÈÄüÂ∫¶ÔºåÂ∞Ü‰∏Ä‰∏™ÂõõÂàÜÈü≥Á¨¶ÁöÑÊó∂ÈïøËÆæÁΩÆ‰∏∫700(ms)ÔºåÂπ∂‰ª•ÂõõÂàÜÈü≥Á¨¶ÁöÑÊó∂Èïø‰∏∫Âü∫ÂáÜ
   9          #define SPEED 700
  10           
  11          //Èü≥Á¨¶‰∏éÁ¥¢ÂºïÂØπÂ∫îË°®ÔºåPÔºö‰ºëÊ≠¢Á¨¶ÔºåLÔºö‰ΩéÈü≥ÔºåMÔºö‰∏≠Èü≥ÔºåHÔºöÈ´òÈü≥Ôºå‰∏ãÂàíÁ∫øÔºöÂçáÂçäÈü≥Á
             -¨¶Âè∑#
  12          #define P       0
  13          #define L1      1
  14          #define L1_     2
  15          #define L2      3
  16          #define L2_     4
  17          #define L3      5
  18          #define L4      6
  19          #define L4_     7
  20          #define L5      8
  21          #define L5_     9
  22          #define L6      10
  23          #define L6_     11
  24          #define L7      12
  25          #define M1      13
  26          #define M1_     14
  27          #define M2      15
  28          #define M2_     16
  29          #define M3      17
  30          #define M4      18
  31          #define M4_     19
  32          #define M5      20
  33          #define M5_     21
  34          #define M6      22
  35          #define M6_     23
  36          #define M7      24
  37          #define H1      25
  38          #define H1_     26
  39          #define H2      27
  40          #define H2_     28
  41          #define H3      29
  42          #define H4      30
  43          #define H4_     31
  44          #define H5      32
  45          #define H5_     33
  46          #define H6      34
  47          #define H6_     35
  48          #define H7      36
  49           
  50          //Á¥¢Âºï‰∏éÈ¢ëÁéáÂØπÁÖßË°®
  51          unsigned int FreqTable[]={
  52                  0,
  53                  63628,63731,63835,63928,64021,64103,64185,64260,64331,64400,64463,64528,
C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 2   

  54                  64580,64633,64684,64732,64777,64820,64860,64898,64934,64968,65000,65030,
  55                  65058,65085,65110,65134,65157,65178,65198,65217,65235,65252,65268,65283,
  56          };
  57           
  58          //‰πêË∞±
  59          unsigned int code Music[]={//‰πêË∞±ËæÉÈïøÂä†‰∏äÂÖ≥ÈîÆÂ≠ócodeÂ∞ÜÂÖ∂ÂÇ®Â≠òÂú®ROM(flash)
  60                  //Èü≥Á¨¶,Êó∂ÂÄº,
  61                  //1
  62          //      M3,8,
  63          //      P,4,
  64          //      P,1,
  65          //      M1,1,
  66          //      M2,1,
  67          //      M1,1,
  68          //      
  69          //      //2
  70          //      M3,8,
  71          //      P,3,
  72          //      M1,1,
  73          //      M2,1,
  74          //      M1,1,
  75          //      M2,1,
  76          //      M3,1,
  77          //      
  78          //      //3
  79          //      L6,3,
  80          //      M1,1,
  81          //      L6,3,
  82          //      M1,1,
  83          //      L6,3,
  84          //      M1,1,
  85          //      M3,2,
  86          //      M1,2,
  87          //      
  88          //      //4
  89          //      L7,8,
  90          //      L6,1,
  91          //      M1,1,
  92          //      M6,2,
  93          //      M6,1,
  94          //      M6,1,
  95          //      M6,1,
  96          //      M5,5,
  97          //      M6,2,
  98          //      M6,1,
  99          //      M5,1,
 100          //      M6,1,
 101          //      M5,1,
 102          //      M6,1,
 103          //      M5,1,
 104          //      
 105          //      //5
 106          //      M3,1,
 107          //      M3,3,
 108          //      M3,4,
 109          //      P,4,
 110          //      P,2,
 111          //      L6,1,
 112          //      M1,1,
 113          //      
 114          //      //6
 115          //      M6,3,
C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 3   

 116          //      M6,1,
 117          //      M6,1,
 118          //      M5,1,
 119          //      M6,1,
 120          //      M5,1,
 121          //      M7,3,
 122          //      M7,1,
 123          //      M7,1,
 124          //      M6,2,
 125          //      M7,1,
 126          //      
 127          //      //7
 128          //    M7,1,
 129          //      M6,2,
 130          //      M3,1,
 131          //      M3,8,
 132          //      P,1,
 133          //      M3,1,
 134          //      M5,1,
 135          //      M3,1,
 136          //      
 137          //      //8
 138          //    M2,3,
 139          //      M3,1,
 140          //      M2,3,
 141          //      M3,1,
 142          //    M2,3,
 143          //      M3,1,
 144          //    M5,1,
 145          //      M3,1,
 146          //      M5,1,
 147          //      M3,1,
 148           
 149          //      //9
 150          //    M2,3,
 151          //      M3,1,
 152          //    M2,3,
 153          //      M3,1,
 154          //      M2,4,
 155          //      P,2,
 156          //      M1,1,
 157          //      M2,1,
 158          //      
 159          //      //10
 160          //    M3,2,
 161          //      L6,2,
 162          //      M1,2,
 163          //      M3,2,
 164          //      M2,3,
 165          //      M3,1,
 166          //      M2,1,
 167          //      M1,1,
 168          //      M1,2,
 169          //      
 170          //      //11
 171          //    L6,8,
 172          //      P,4,
 173          //      P,2,
 174          //      M6,1,
 175          //      M7,1,
 176           
 177          //---------È´òÊΩÆÈÉ®ÂàÜ----------//
C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 4   

 178                  //12
 179              H1,1,
 180                  H2,1,
 181                  M7,1,
 182                  H1,1,
 183                  H1,2,
 184                  H1,1,
 185                  M7,1,
 186                  H1,1,
 187                  H2,1,
 188                  M7,1,
 189                  H1,1,
 190                  H1,2,
 191                  H1,1,
 192                  H2,1,
 193                  
 194                  //13
 195                  H3,1,
 196                  H2,1,
 197                  H3,1,
 198                  H2,1,
 199                  H3,2,
 200                  H3,1,
 201                  H2,1,
 202                  H3,2,
 203                  H5,2,
 204                  H3,2,
 205                  M6,1,
 206                  M7,1,
 207                  
 208                  //14
 209                  H1,1,
 210                  H2,1,
 211                  M7,1,
 212                  H1,1,
 213                  H1,2,
 214                  H1,1,
 215                  M7,1,
 216                  H1,1,
 217                  H2,1,
 218                  M7,1,
 219                  H1,1,
 220                  H1,2,
 221                  H1,1,
 222                  M7,1,
 223                  
 224                  //15
 225                  H3,1,
 226                  H2,1,
 227                  H3,1,
 228                  H2,1,
 229                  H3,2,
 230                  H3,1,
 231                  H2,1,
 232                  H3,2,
 233                  H5,2,
 234                  H3,2,
 235                  H5,2,
 236                  
 237                  //16
 238                  H3,3,
 239                  H5,1,
C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 5   

 240                  H3,3,
 241                  H5,1,
 242                  H3,1,
 243                  H5,1,
 244                  H6,1,
 245                  H3,1,
 246                  H5,2,
 247                  H5,2,
 248                  
 249                  //17
 250                  H3,3,
 251                  H5,1,
 252                  H3,3,
 253                  H5,1,
 254                  H3,1,
 255                  H5,1,
 256                  H6,1,
 257                  H3,1,
 258                  H5,2,
 259                  H5,1,
 260                  H5,1,
 261                  
 262                  //18
 263                  H3,1,
 264                  H2,1,
 265                  H2,2,
 266                  H2,2,
 267                  H1,1,
 268                  H3,1,
 269                  H3,1,
 270                  H2,1,
 271                  H2,2,
 272                  H2,2,
 273                  H1,1,
 274                  H1,1,
 275                  
 276                  //19
 277                  M6,8,
 278                  P,4,
 279                  P,2,
 280                  H5,1,
 281                  H5,1,
 282                  
 283                  //20
 284                  H3,1,
 285                  H2,1,
 286                  H2,2,
 287                  H2,2,
 288                  H1,1,
 289                  H3,1,
 290                  H3,1,
 291                  H2,1,
 292                  H2,2,
 293                  H2,2,
 294                  H1,1,
 295                  H1,1,
 296                  
 297                  //21
 298                  M6,8,
 299                  P,4,
 300                  P,4,
 301                  
C51 COMPILER V9.54   MAIN                                                                  10/08/2024 21:39:52 PAGE 6   

 302                  
 303                  0xFF    //ÁªàÊ≠¢Ê†áÂøó
 304          };
 305           
 306          unsigned int FreqSelect,MusicSelect;//MusicSelect‰∏∫‰πêË∞±Êï∞ÁªÑ‰∏ãÊ†áÔºåFreqSelectÈü≥Ë∞ÉÂÆèÂÆö‰πâ
 307           
 308          void main()
 309          {
 310   1              Timer0Init();
 311   1              while(1)
 312   1              {
 313   2                      if(Music[MusicSelect]!=0xFF)    //Â¶ÇÊûú‰∏çÊòØÂÅúÊ≠¢Ê†áÂøó‰Ωç
 314   2                      {
 315   3                              FreqSelect=Music[MusicSelect];  //ÈÄâÊã©Èü≥Á¨¶ÂØπÂ∫îÁöÑÈ¢ëÁéá
 316   3                              MusicSelect++;
 317   3       
 318   3                              Delay(SPEED/4*Music[MusicSelect]);      //ÈÄâÊã©Èü≥Á¨¶ÂØπÂ∫îÁöÑÊó∂Èïø
 319   3                              MusicSelect++;
 320   3       
 321   3                              TR0=0;//‰∏çÂêåÈü≥Á¨¶Èó¥Áü≠ÊöÇÂÅúÈ°øÔºåÂà©Áî®Âª∂Êó∂ÂºÄÂÖ≥ÂÆöÊó∂Âô®ÂÆûÁé∞
 322   3                              Delay(5);       
 323   3                              TR0=1;
 324   3                      }
 325   2                      else    //Â¶ÇÊûúÊòØÂÅúÊ≠¢Ê†áÂøó‰Ωç
 326   2                      {
 327   3                              TR0=0;  //ÂÖ≥Èó≠ÂÆöÊó∂Âô®
 328   3                              while(1);
 329   3                      }
 330   2              }
 331   1      }
 332           
 333          void Timer0_Routine() interrupt 1
 334          {
 335   1              if(FreqTable[FreqSelect])       //Â¶ÇÊûúÊòØ‰ºëÊ≠¢Á¨¶(0)ÔºåÈÇ£‰πà‰∏çÊí≠ÊîæÂ£∞Èü≥ÔºåÂè™ËøõË°åÂª∂Êó∂
 336   1              {
 337   2                      //ÂèñÂØπÂ∫îÈ¢ëÁéáÂÄºÁöÑÈáçË£ÖËΩΩÂÄºÂà∞ÂÆöÊó∂Âô®(Á°ÆËÆ§Èü≥È´ò)FreqSelect=Music[MusicSelect]
 338   2                      TL0 = FreqTable[FreqSelect]%256;                //ËÆæÁΩÆ‰Ωé‰ΩçÂÆöÊó∂ÂàùÂÄº
 339   2                      TH0 = FreqTable[FreqSelect]/256;                //ËÆæÁΩÆÈ´ò‰ΩçÂÆöÊó∂ÂàùÂÄº
 340   2                      Buzzer=!Buzzer; //ÁøªËΩ¨ËúÇÈ∏£Âô®IOÂè£(Ê≥®ÊÑèËøôÈáåÁöÑÈáçË£ÖÂÄºÊòØÂë®ÊúüÁöÑ‰∏ÄÂçäÔºåÊïÖ‰ªÖËøõË°å‰∏ÄÊ¨°Ëú
             -ÇÈ∏£Âô®ÁöÑÁøªËΩ¨)
 341   2              }
 342   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    164    ----
   CONSTANT SIZE    =    418    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     78    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
